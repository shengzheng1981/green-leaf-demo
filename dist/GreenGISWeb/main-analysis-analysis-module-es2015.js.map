{"version":3,"sources":["./src/app/main/analysis/analysis.module.ts","./src/app/main/analysis/idw.component.scss","./src/app/main/analysis/idw.component.ts","./src/app/main/analysis/idw.component.html"],"names":[],"mappings":"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","file":"main-analysis-analysis-module-es2015.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {CoreModule} from \"../../core/core.module\";\nimport {SharedModule as MainSharedModule} from \"../shared/shared.module\";\nimport {LetterComponent} from \"../symbol/letter.component\";\nimport {MarkerComponent} from \"../symbol/marker.component\";\nimport {PointComponent} from \"../symbol/point.component\";\nimport {ArrowComponent} from \"../symbol/arrow.component\";\nimport {CustomComponent} from \"../symbol/custom.component\";\nimport {IDWComponent} from \"./idw.component\";\n\n\nconst routes: Routes = [\n    {\n        path: 'idw',\n        component: IDWComponent\n    }\n];\n\n@NgModule({\n    imports: [\n        CoreModule.forChild(),\n        MainSharedModule,\n        RouterModule.forChild(routes)\n    ],\n    declarations: [\n        IDWComponent\n    ]\n})\nexport class AnalysisModule {\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpZHcuY29tcG9uZW50LnNjc3MifQ== */\";","import {Component, OnInit} from '@angular/core';\nimport {ConfigService} from \"../../core/config.service\";\nimport {Router} from \"@angular/router\";\nimport {\n    Feature,\n    FeatureClass,\n    FeatureLayer, Field,\n    GeometryType, Graphic, InverseDistanceWeight,\n    Label,\n    Point, SimpleMarkerSymbol,\n    SimplePointSymbol, SimpleRenderer,\n    SimpleTextSymbol, RasterLayer\n} from \"green-gis\";\nimport {HttpClient} from \"@angular/common/http\";\n\n@Component({\n    selector: 'app-idw',\n    templateUrl: './idw.component.html',\n    styleUrls: ['./idw.component.scss']\n})\nexport class IDWComponent implements OnInit {\n\n    option = {\n        honey: false,\n        honeySide: 10\n    };\n\n    map: any;\n    idw: any;\n\n    constructor(private router: Router, public configService: ConfigService, private http: HttpClient) {\n    }\n\n    ngOnInit(): void {\n\n    }\n\n    /////////////////以下界面交互/////////////////////\n    async mapInit(event) {\n        this.map = event.map;\n        this.http.get(\"assets/geojson/sensor.json\")\n            .subscribe((data :any) => {\n                const featureClass = new FeatureClass(GeometryType.Point);\n                featureClass.loadGeoJSON(data);\n                const field = new Field();\n                field.name = \"DEPTH\";\n                this.idw = new InverseDistanceWeight();\n                this.idw.honey = false;\n                this.idw.generate(featureClass, field);\n                const rasterLayer = new RasterLayer();\n                rasterLayer.raster = this.idw;\n                this.map.addLayer(rasterLayer);\n                const featureLayer = new FeatureLayer();\n                featureLayer.featureClass = featureClass;\n                const renderer = new SimpleRenderer();\n                featureLayer.renderer = renderer;\n                featureLayer.zoom = [13, 20];\n                this.map.addLayer(featureLayer);\n                this.map.setView([109.519, 18.271], 13);\n            });\n    }\n\n    change() {\n        if (this.idw) {\n            this.idw.honey = this.option.honey;\n            this.idw.honeySide = this.option.honeySide;\n            this.map.redraw();\n        }\n    }\n\n}\n","export default \"<div class=\\\"system-content\\\" style=\\\"grid-template-columns: 1fr\\\">\\n    <div class=\\\"system-body\\\" >\\n        <green-map-control (mapInit)=\\\"mapInit($event)\\\"></green-map-control>\\n        <div class=\\\"panel\\\" style=\\\"position: absolute; top: 15px; right: 15px; z-index: 1000;\\\">\\n            <div class=\\\"panel-heading\\\">\\n                <div class=\\\"panel-title\\\">配置</div>\\n            </div>\\n            <div class=\\\"panel-body\\\" style=\\\"display: grid; grid-template-columns: 1fr 1fr; grid-gap: 10px; width: 540px\\\">\\n                <div class=\\\"input-group\\\">\\n                    <div class=\\\"input-group-addon\\\">蜂窝：</div>\\n                    <nz-switch class=\\\"form-control\\\" [(ngModel)]=\\\"option.honey\\\" (ngModelChange)=\\\"change()\\\"></nz-switch>\\n                </div>\\n                <div class=\\\"input-group\\\">\\n                    <div class=\\\"input-group-addon\\\">边长：</div>\\n                    <input class=\\\"form-control\\\" type=\\\"number\\\" name=\\\"side\\\" [(ngModel)]=\\\"option.honeySide\\\"  autocomplete=\\\"off\\\" (ngModelChange)=\\\"change()\\\" min=\\\"6\\\" max=\\\"20\\\" step=\\\"1\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";"],"sourceRoot":"webpack:///"}