{"version":3,"sources":["./src/app/main/layer/feature.component.scss","./src/app/main/layer/layer.module.ts","./src/app/main/layer/graphic.component.html","./src/app/main/layer/graphic.component.scss","./src/app/main/layer/feature.component.html","./src/app/main/layer/feature.component.ts","./src/app/main/layer/graphic.component.ts"],"names":[],"mappings":"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","file":"main-layer-layer-module-es2015.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmZWF0dXJlLmNvbXBvbmVudC5zY3NzIn0= */\";","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {CoreModule} from \"../../core/core.module\";\nimport {SharedModule as MainSharedModule} from \"../shared/shared.module\";\nimport {FeatureComponent} from \"./feature.component\";\nimport {GraphicComponent} from \"./graphic.component\";\n\nconst routes: Routes = [\n    {\n        path: 'feature',\n        component: FeatureComponent\n    },\n    {\n        path: 'graphic',\n        component: GraphicComponent\n    }\n];\n\n@NgModule({\n    imports: [\n        CoreModule.forChild(),\n        MainSharedModule,\n        RouterModule.forChild(routes)\n    ],\n    declarations: [\n        FeatureComponent, GraphicComponent\n    ]\n})\nexport class LayerModule {\n}\n","export default \"<div class=\\\"system-content\\\" style=\\\"grid-template-columns: 1fr\\\">\\n    <div class=\\\"system-body\\\" >\\n        <green-map-control (mapInit)=\\\"mapInit($event)\\\"></green-map-control>\\n        <div class=\\\"panel\\\" style=\\\"position: absolute; top: 15px; right: 15px; z-index: 1000;\\\">\\n            <div class=\\\"panel-heading\\\">\\n                <div class=\\\"panel-title\\\">配置</div>\\n            </div>\\n            <div class=\\\"panel-body\\\" style=\\\"display: grid; grid-template-columns: 1fr 1fr; grid-gap: 10px; width: 540px\\\" *ngIf=\\\"option\\\">\\n                <div class=\\\"input-group\\\" style=\\\"text-align: center;\\\">\\n                    <div class=\\\"input-group-addon\\\">交点图层：</div>\\n                    <nz-switch class=\\\"form-control\\\" [(ngModel)]=\\\"option.pointVisible\\\" (ngModelChange)=\\\"change()\\\"></nz-switch>\\n                </div>\\n                <div class=\\\"input-group\\\"></div>\\n                <div class=\\\"input-group\\\">\\n                    <div class=\\\"input-group-addon\\\">经线图层：</div>\\n                    <nz-switch class=\\\"form-control\\\" [(ngModel)]=\\\"option.lngVisible\\\" (ngModelChange)=\\\"change()\\\"></nz-switch>\\n                </div>\\n                <div class=\\\"input-group\\\">\\n                    <div class=\\\"input-group-addon\\\">纬线图层：</div>\\n                    <nz-switch class=\\\"form-control\\\" [(ngModel)]=\\\"option.latVisible\\\" (ngModelChange)=\\\"change()\\\"></nz-switch>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJncmFwaGljLmNvbXBvbmVudC5zY3NzIn0= */\";","export default \"<div class=\\\"system-content\\\" style=\\\"grid-template-columns: 1fr\\\">\\n    <div class=\\\"system-body\\\" >\\n        <green-map-control (mapInit)=\\\"mapInit($event)\\\"></green-map-control>\\n        <div class=\\\"panel\\\" style=\\\"position: absolute; top: 15px; right: 15px; z-index: 1000;\\\">\\n            <div class=\\\"panel-heading\\\">\\n                <div class=\\\"panel-title\\\">配置</div>\\n            </div>\\n            <div class=\\\"panel-body\\\" style=\\\"display: grid; grid-template-columns: 1fr 1fr; grid-gap: 10px; width: 540px\\\" *ngIf=\\\"option\\\">\\n                <div class=\\\"input-group\\\" style=\\\"text-align: center;\\\">\\n                    <div class=\\\"input-group-addon\\\">显示：</div>\\n                    <nz-switch class=\\\"form-control\\\" [(ngModel)]=\\\"option.visible\\\" (ngModelChange)=\\\"change()\\\"></nz-switch>\\n                </div>\\n                <div class=\\\"input-group\\\"></div>\\n                <div class=\\\"input-group\\\">\\n                    <div class=\\\"input-group-addon\\\">边框色：</div>\\n                    <input class=\\\"form-control\\\" type=\\\"color\\\" name=\\\"strokeColor\\\" [(ngModel)]=\\\"option.strokeStyle\\\"  (ngModelChange)=\\\"change()\\\">\\n                </div>\\n                <div class=\\\"input-group\\\">\\n                    <div class=\\\"input-group-addon\\\">填充色：</div>\\n                    <input class=\\\"form-control\\\" type=\\\"color\\\" name=\\\"fillColor\\\" [(ngModel)]=\\\"option.fillStyle\\\"  (ngModelChange)=\\\"change()\\\">\\n                </div>\\n                <div class=\\\"input-group\\\">\\n                    <div class=\\\"input-group-addon\\\">最小级别：</div>\\n                    <input class=\\\"form-control\\\" type=\\\"number\\\" name=\\\"minZoom\\\" [(ngModel)]=\\\"option.minZoom\\\"  autocomplete=\\\"off\\\" (ngModelChange)=\\\"change()\\\" min=\\\"3\\\" [max]=\\\"option.maxZoom\\\" step=\\\"1\\\">\\n                </div>\\n                <div class=\\\"input-group\\\">\\n                    <div class=\\\"input-group-addon\\\">最大级别：</div>\\n                    <input class=\\\"form-control\\\" type=\\\"number\\\" name=\\\"maxZoom\\\" [(ngModel)]=\\\"option.maxZoom\\\"  autocomplete=\\\"off\\\" (ngModelChange)=\\\"change()\\\" [min]=\\\"option.minZoom\\\" max=\\\"20\\\" step=\\\"1\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";","import {Component, OnInit} from '@angular/core';\nimport {ConfigService} from \"../../core/config.service\";\nimport {Router} from \"@angular/router\";\nimport {\n    Feature,\n    FeatureClass,\n    FeatureLayer, Field,\n    GeometryType, Graphic,\n    Label,\n    Point, SimpleFillSymbol, SimpleMarkerSymbol,\n    SimplePointSymbol, SimpleRenderer,\n    SimpleTextSymbol\n} from \"green-gis\";\nimport {HttpClient} from \"@angular/common/http\";\n\n@Component({\n    selector: 'app-feature',\n    templateUrl: './feature.component.html',\n    styleUrls: ['./feature.component.scss']\n})\nexport class FeatureComponent implements OnInit {\n\n    option = {\n        visible: true,\n        strokeStyle: \"#ff0000\",\n        fillStyle: \"#ff0000\",\n        minZoom: 5,\n        maxZoom: 20\n    };\n\n    map: any;\n\n    renderer: any;\n    featureLayer: any;\n\n    constructor(private router: Router, public configService: ConfigService, private http: HttpClient) {\n    }\n\n    ngOnInit(): void {\n\n    }\n\n    /////////////////以下界面交互/////////////////////\n    async mapInit(event) {\n        this.map = event.map;\n        this.http.get(\"assets/geojson/chongqing.json\")\n            .subscribe((data :any) => {\n                const featureClass = new FeatureClass(GeometryType.Polygon);\n                featureClass.loadGeoJSON(data);\n                this.featureLayer = new FeatureLayer();\n                this.featureLayer.featureClass = featureClass;\n                this.renderer = new SimpleRenderer();\n                this.renderer.symbol = new SimpleFillSymbol();\n                this.featureLayer.renderer = this.renderer;\n                this.featureLayer.zoom = [5, 20];\n                this.map.addLayer(this.featureLayer);\n                this.map.setView([107.777, 29.809], 7);\n            });\n    }\n\n    change() {\n        if (this.featureLayer && this.renderer) {\n            this.featureLayer.visible = this.option.visible;\n            this.featureLayer.zoom = [this.option.minZoom, this.option.maxZoom];\n            this.renderer.symbol.strokeStyle = this.option.strokeStyle;\n            this.renderer.symbol.fillStyle = this.option.fillStyle;\n            this.map.redraw();\n        }\n    }\n\n}\n","import {Component, OnInit} from '@angular/core';\nimport {ConfigService} from \"../../core/config.service\";\nimport {Router} from \"@angular/router\";\nimport {\n    Feature,\n    FeatureClass,\n    FeatureLayer, Field,\n    GeometryType, Graphic, GraphicLayer,\n    Label,\n    Point, Polyline, SimpleFillSymbol, SimpleLineSymbol, SimpleMarkerSymbol,\n    SimplePointSymbol, SimpleRenderer,\n    SimpleTextSymbol\n} from \"green-gis\";\nimport {HttpClient} from \"@angular/common/http\";\n\n@Component({\n    selector: 'app-graphic',\n    templateUrl: './graphic.component.html',\n    styleUrls: ['./graphic.component.scss']\n})\nexport class GraphicComponent implements OnInit {\n\n    option = {\n        latVisible: true,\n        lngVisible: true,\n        pointVisible: true\n    };\n\n    map: any;\n\n    latLayer: any;\n    lngLayer: any;\n    pointLayer: any;\n\n    constructor(private router: Router, public configService: ConfigService, private http: HttpClient) {\n    }\n\n    ngOnInit(): void {\n\n    }\n\n    /////////////////以下界面交互/////////////////////\n    async mapInit(event) {\n        this.map = event.map;\n\n        //画经线\n        const lngSymbol = new SimpleLineSymbol();\n        lngSymbol.strokeStyle = \"#0000ff\";\n        this.lngLayer = new GraphicLayer();\n        this.map.addLayer(this.lngLayer);\n        for (let i = -180; i <= 180; i = i + 10){\n            const line = new Polyline([[i, -80], [i, 80]]);\n            const graphic = new Graphic(line, lngSymbol);\n            this.lngLayer.add(graphic);\n        }\n        //画纬线\n        const latSymbol = new SimpleLineSymbol();\n        latSymbol.strokeStyle = \"#4d9221\";\n        this.latLayer = new GraphicLayer();\n        this.map.addLayer(this.latLayer);\n        for (let j = -80; j <= 80; j = j + 10){\n            const line = new Polyline([[-180, j], [180, j]]);\n            const graphic = new Graphic(line, latSymbol);\n            this.latLayer.add(graphic);\n        }\n        //画经纬线交点\n        const pointSymbol = new SimplePointSymbol();\n        pointSymbol.radius = 5;\n        pointSymbol.fillStyle = \"#de77ae\";\n        pointSymbol.strokeStyle = \"#c51b7d\";\n        this.pointLayer = new GraphicLayer();\n        this.map.addLayer(this.pointLayer);\n        for (let i = -180; i <= 180; i = i + 10){\n            for (let j = -90; j <= 90; j = j + 10){\n                const point = new Point(i, j);\n                const graphic = new Graphic(point, pointSymbol);\n                this.pointLayer.add(graphic);\n            }\n        }\n        this.map.setView([0, 0], 3);\n    }\n\n    change() {\n        if (this.lngLayer && this.latLayer && this.pointLayer) {\n            this.lngLayer.visible = this.option.lngVisible;\n            this.latLayer.visible = this.option.latVisible;\n            this.pointLayer.visible = this.option.pointVisible;\n            this.map.redraw();\n        }\n    }\n\n}\n"],"sourceRoot":"webpack:///"}