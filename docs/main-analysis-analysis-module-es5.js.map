{"version":3,"sources":["webpack:///src/app/main/analysis/analysis.module.ts","webpack:///src/app/main/analysis/idw.component.scss","webpack:///src/app/main/analysis/idw.component.ts","webpack:///src/app/main/analysis/idw.component.html"],"names":["routes","path","component","AnalysisModule","imports","forChild","declarations","IDWComponent","router","configService","http","option","honey","honeySide","event","map","get","subscribe","data","featureClass","Point","loadGeoJSON","field","name","idw","generate","rasterLayer","raster","addLayer","featureLayer","renderer","zoom","setView","redraw","selector","template"],"mappings":"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","file":"main-analysis-analysis-module-es5.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {CoreModule} from \"../../core/core.module\";\nimport {SharedModule as MainSharedModule} from \"../shared/shared.module\";\nimport {LetterComponent} from \"../symbol/letter.component\";\nimport {MarkerComponent} from \"../symbol/marker.component\";\nimport {PointComponent} from \"../symbol/point.component\";\nimport {ArrowComponent} from \"../symbol/arrow.component\";\nimport {CustomComponent} from \"../symbol/custom.component\";\nimport {IDWComponent} from \"./idw.component\";\n\n\nconst routes: Routes = [\n    {\n        path: 'idw',\n        component: IDWComponent\n    }\n];\n\n@NgModule({\n    imports: [\n        CoreModule.forChild(),\n        MainSharedModule,\n        RouterModule.forChild(routes)\n    ],\n    declarations: [\n        IDWComponent\n    ]\n})\nexport class AnalysisModule {\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpZHcuY29tcG9uZW50LnNjc3MifQ== */\";","import {Component, OnInit} from '@angular/core';\nimport {ConfigService} from \"../../core/config.service\";\nimport {Router} from \"@angular/router\";\nimport {\n    Feature,\n    FeatureClass,\n    FeatureLayer, Field,\n    GeometryType, Graphic, InverseDistanceWeight,\n    Label,\n    Point, SimpleMarkerSymbol,\n    SimplePointSymbol, SimpleRenderer,\n    SimpleTextSymbol, RasterLayer\n} from \"green-gis\";\nimport {HttpClient} from \"@angular/common/http\";\n\n@Component({\n    selector: 'app-idw',\n    templateUrl: './idw.component.html',\n    styleUrls: ['./idw.component.scss']\n})\nexport class IDWComponent implements OnInit {\n\n    option = {\n        honey: false,\n        honeySide: 10\n    };\n\n    map: any;\n    idw: any;\n\n    constructor(private router: Router, public configService: ConfigService, private http: HttpClient) {\n    }\n\n    ngOnInit(): void {\n\n    }\n\n    /////////////////以下界面交互/////////////////////\n    async mapInit(event) {\n        this.map = event.map;\n        this.http.get(\"assets/geojson/sensor.json\")\n            .subscribe((data :any) => {\n                const featureClass = new FeatureClass(GeometryType.Point);\n                featureClass.loadGeoJSON(data);\n                const field = new Field();\n                field.name = \"DEPTH\";\n                this.idw = new InverseDistanceWeight();\n                this.idw.honey = false;\n                this.idw.generate(featureClass, field);\n                const rasterLayer = new RasterLayer();\n                rasterLayer.raster = this.idw;\n                this.map.addLayer(rasterLayer);\n                const featureLayer = new FeatureLayer();\n                featureLayer.featureClass = featureClass;\n                const renderer = new SimpleRenderer();\n                featureLayer.renderer = renderer;\n                featureLayer.zoom = [13, 20];\n                this.map.addLayer(featureLayer);\n                this.map.setView([109.519, 18.271], 13);\n            });\n    }\n\n    change() {\n        if (this.idw) {\n            this.idw.honey = this.option.honey;\n            this.idw.honeySide = this.option.honeySide;\n            this.map.redraw();\n        }\n    }\n\n}\n","export default \"<div class=\\\"system-content\\\" style=\\\"grid-template-columns: 1fr\\\">\\n    <div class=\\\"system-body\\\" >\\n        <green-map-control (mapInit)=\\\"mapInit($event)\\\"></green-map-control>\\n        <div class=\\\"panel\\\" style=\\\"position: absolute; top: 15px; right: 15px; z-index: 1000;\\\">\\n            <div class=\\\"panel-heading\\\">\\n                <div class=\\\"panel-title\\\">配置</div>\\n            </div>\\n            <div class=\\\"panel-body\\\" style=\\\"display: grid; grid-template-columns: 1fr 1fr; grid-gap: 10px; width: 540px\\\">\\n                <div class=\\\"input-group\\\">\\n                    <div class=\\\"input-group-addon\\\">蜂窝：</div>\\n                    <nz-switch class=\\\"form-control\\\" [(ngModel)]=\\\"option.honey\\\" (ngModelChange)=\\\"change()\\\"></nz-switch>\\n                </div>\\n                <div class=\\\"input-group\\\">\\n                    <div class=\\\"input-group-addon\\\">边长：</div>\\n                    <input class=\\\"form-control\\\" type=\\\"number\\\" name=\\\"side\\\" [(ngModel)]=\\\"option.honeySide\\\"  autocomplete=\\\"off\\\" (ngModelChange)=\\\"change()\\\" min=\\\"6\\\" max=\\\"20\\\" step=\\\"1\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";"]}