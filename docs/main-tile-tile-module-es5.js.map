{"version":3,"sources":["webpack:///src/app/main/tile/tile.module.ts","webpack:///src/app/main/tile/tile.component.ts","webpack:///src/app/main/tile/tile.component.html","webpack:///src/app/main/tile/tile.component.scss"],"names":["routes","path","component","TileModule","imports","forChild","declarations","TileComponent","router","configService","http","option","lng","lat","url","map","gMapDiv","nativeElement","setTileUrl","create","marker","width","height","offsetX","offsetY","load","point","graphic","addGraphic","setView","redraw","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,UAAMA,MAAM,GAAW,CACnB;AACIC,YAAI,EAAE,EADV;AAEIC,iBAAS,EAAE;AAFf,OADmB,CAAvB;;UAiBaC,UAAU;AAAA;AAAA,O;;AAAVA,gBAAU,6DAVtB,+DAAS;AACNC,eAAO,EAAE,CACL,6DAAWC,QAAX,EADK,EAEL,kEAFK,EAGL,6DAAaA,QAAb,CAAsBL,MAAtB,CAHK,CADH;AAMNM,oBAAY,EAAE,CACV,6DADU;AANR,OAAT,CAUsB,GAAVH,UAAU,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCHAI,aAAa;AAUtB,+BAAoBC,MAApB,EAA2CC,aAA3C,EAAiFC,IAAjF,EAAmG;AAAA;;AAA/E,eAAAF,MAAA,GAAAA,MAAA;AAAuB,eAAAC,aAAA,GAAAA,aAAA;AAAsC,eAAAC,IAAA,GAAAA,IAAA;AARjF,eAAAC,MAAA,GAAS;AACLC,eAAG,EAAE,UADA;AAELC,eAAG,EAAE,SAFA;AAGLC,eAAG,EAAE;AAHA,WAAT;AASC;;AAXqB;AAAA;AAAA,iBAatB,oBAAQ;AACJ,iBAAKC,GAAL,GAAW,IAAI,6CAAJ,CAAQ,KAAKC,OAAL,CAAaC,aAArB,CAAX;AACA,iBAAKF,GAAL,CAASG,UAAT,CAAoB,KAAKP,MAAL,CAAYG,GAAhC;AACA,iBAAKK,MAAL;AACH,WAjBqB,CAmBtB;;AAnBsB;AAAA;AAAA,iBAqBhB,kBAAS;;;;;;;AACLC,4B,GAAS,IAAI,4DAAJ,E;AACfA,4BAAM,CAACC,KAAP,GAAe,EAAf;AACAD,4BAAM,CAACE,MAAP,GAAgB,EAAhB;AACAF,4BAAM,CAACG,OAAP,GAAiB,CAAC,EAAlB;AACAH,4BAAM,CAACI,OAAP,GAAiB,CAAC,EAAlB;AACAJ,4BAAM,CAACN,GAAP,GAAa,uBAAb;;AACA,6BAAMM,MAAM,CAACK,IAAP,EAAN;;;AACMC,2B,GAAQ,IAAI,+CAAJ,CAAU,KAAKf,MAAL,CAAYC,GAAtB,EAA2B,KAAKD,MAAL,CAAYE,GAAvC,C;AACRc,6B,GAAU,IAAI,iDAAJ,CAAYD,KAAZ,EAAmBN,MAAnB,C;AAChB,2BAAKL,GAAL,CAASa,UAAT,CAAoBD,OAApB;AACA,2BAAKZ,GAAL,CAASc,OAAT,CAAiB,CAAC,KAAKlB,MAAL,CAAYC,GAAb,EAAkB,KAAKD,MAAL,CAAYE,GAA9B,CAAjB,EAAqD,EAArD;;;;;;;;;AACH;AAjCqB;AAAA;AAAA,iBAmCtB,kBAAS;AACL,iBAAKE,GAAL,CAASG,UAAT,CAAoB,KAAKP,MAAL,CAAYG,GAAhC;AACA,iBAAKC,GAAL,CAASe,MAAT;AACH;AAtCqB;;AAAA;AAAA,S;;;;gBAlBlB;;gBADA;;gBAYA;;;;;;gBAQH,uD;AAAS,iBAAC,SAAD,EAAY;AAAC,sBAAO;AAAR,WAAZ;;;AADDvB,mBAAa,6DALzB,gEAAU;AACPwB,gBAAQ,EAAE,UADH;AAEPC,gBAAQ,EAAR,uEAFO;;AAAA,OAAV,CAKyB,GAAbzB,aAAa,CAAb;;;;;;;;;;;;;;;;ACpBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA","file":"main-tile-tile-module-es5.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {CoreModule} from \"../../core/core.module\";\nimport {SharedModule as MainSharedModule} from \"../shared/shared.module\";\nimport {TileComponent} from \"./tile.component\";\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: TileComponent\n    }\n];\n\n@NgModule({\n    imports: [\n        CoreModule.forChild(),\n        MainSharedModule,\n        RouterModule.forChild(routes)\n    ],\n    declarations: [\n        TileComponent\n    ]\n})\nexport class TileModule {\n}\n","import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';\nimport {ConfigService} from \"../../core/config.service\";\nimport {Router} from \"@angular/router\";\nimport {\n    Feature,\n    FeatureClass,\n    FeatureLayer, Field,\n    GeometryType, Graphic,\n    Label, Map,\n    Point, SimpleMarkerSymbol,\n    SimplePointSymbol,\n    SimpleTextSymbol\n} from \"green-gis\";\nimport {HttpClient} from \"@angular/common/http\";\n\n@Component({\n    selector: 'app-tile',\n    templateUrl: './tile.component.html',\n    styleUrls: ['./tile.component.scss']\n})\nexport class TileComponent implements OnInit {\n    @ViewChild('gMapDiv', {static:true}) gMapDiv: ElementRef;\n    option = {\n        lng: 116.397411,\n        lat: 39.909186,\n        url: \"http://wprd01.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&lang=zh_cn&size=1&scl=1&style=7\"\n    };\n\n    map: any;\n\n    constructor(private router: Router, public configService: ConfigService, private http: HttpClient) {\n    }\n\n    ngOnInit(): void {\n        this.map = new Map(this.gMapDiv.nativeElement);\n        this.map.setTileUrl(this.option.url);\n        this.create();\n    }\n\n    /////////////////以下界面交互/////////////////////\n\n    async create() {\n        const marker = new SimpleMarkerSymbol();\n        marker.width = 32;\n        marker.height = 32;\n        marker.offsetX = -16;\n        marker.offsetY = -32;\n        marker.url = \"assets/img/marker.svg\";\n        await marker.load();\n        const point = new Point(this.option.lng, this.option.lat);\n        const graphic = new Graphic(point, marker);\n        this.map.addGraphic(graphic);\n        this.map.setView([this.option.lng, this.option.lat], 12);\n    }\n\n    change() {\n        this.map.setTileUrl(this.option.url);\n        this.map.redraw();\n    }\n\n}\n","export default \"<div class=\\\"system-content\\\" style=\\\"grid-template-columns: 1fr\\\">\\n    <div class=\\\"system-body\\\" >\\n        <div #gMapDiv style=\\\"width: 100%; height: 100%; position: absolute; z-index: 1; overflow: hidden;\\\"></div>\\n        <div class=\\\"panel\\\" style=\\\"position: absolute; top: 15px; right: 15px; z-index: 1000;\\\">\\n            <div class=\\\"panel-heading\\\">\\n                <div class=\\\"panel-title\\\">配置</div>\\n            </div>\\n            <div class=\\\"panel-body\\\" style=\\\"display: grid; grid-template-columns: 1fr; grid-gap: 10px; width: 540px\\\">\\n                <div class=\\\"input-group\\\">\\n                    <div class=\\\"input-group-addon\\\" style=\\\"width: 60px;\\\">URL：</div>\\n                    <input class=\\\"form-control\\\" name=\\\"url\\\" [(ngModel)]=\\\"option.url\\\"  autocomplete=\\\"off\\\" >\\n                    <span class=\\\"input-group-addon\\\" (click)=\\\"change()\\\" style=\\\"cursor: pointer; width: 60px;\\\">刷新</span>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0aWxlLmNvbXBvbmVudC5zY3NzIn0= */\";"]}